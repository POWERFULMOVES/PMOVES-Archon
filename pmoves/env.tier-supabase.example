# =============================================================================
# PMOVES Supabase Environment Variables
# =============================================================================
# Services: Supabase (PostgREST, GoTrue, Realtime, Storage, Studio, Kong)
# Scope: Self-hosted Supabase stack configuration
#
# Copy to `env.tier-supabase` and fill in real values. The file is gitignored.
# =============================================================================

# JWT Secret (REQUIRED - generate with: openssl rand -base64 32)
SUPABASE_JWT_SECRET=your_jwt_secret_here
SUPABASE_JWT_ALGORITHM=HS256

# Database Connection (Supabase DB container)
SUPABASE_DB_USER=pmoves
SUPABASE_DB_PASSWORD=your_secure_password_here
SUPABASE_DB_NAME=pmoves

# Database Connection (legacy/compatibility - mapped to SUPABASE_DB_* values)
POSTGRES_USER=pmoves
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=pmoves

# API Keys (REQUIRED - generate with: openssl rand -base64 32)
# 2025 format (RS256 asymmetric)
SUPABASE_PUBLISHABLE_KEY=your_publishable_key_here
SUPABASE_SECRET_KEY=your_secret_key_here
# Legacy format (HS256 symmetric - still used by some services)
SUPABASE_ANON_KEY=your_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# Supabase URLs
SUPABASE_SITE_URL=http://localhost:3000
SUPABASE_PUBLIC_URL=http://localhost:54323

# GoTrue (Authentication)
GOTRUE_SITE_URL=http://localhost:3000
GOTRUE_API_EXTERNAL_URL=http://localhost:9999

# PostgREST
SUPABASE_SCHEMA=public
SUPABASE_ANON_ROLE=anon
SUPABASE_MAX_ROWS=1000
SUPABASE_DB_POOL=15
SUPABASE_POOL_TIMEOUT=5

# Realtime
SUPABASE_REALTIME_APP_NAME=realtime
SUPABASE_REALTIME_SECRET=your_realtime_secret_here
SUPABASE_RLIMIT_NOFILE=1048576

# Storage
SUPABASE_STORAGE_FILE_SIZE_LIMIT=52428800
SUPABASE_STORAGE_REGION=
SUPABASE_S3_BUCKET=

# JWT Expiration
SUPABASE_JWT_EXP=3600
SUPABASE_URI_ALLOW_LIST=

# PMOVES Extensions
DOCKED_MODE=true
PARENT_SYSTEM=PMOVES.AI
PARENT_VERSION=1.0.0

# Ports (override if needed)
SUPABASE_DB_PORT=54322
SUPABASE_STUDIO_PORT=54323
SUPABASE_GOTRUE_PORT=9999
SUPABASE_POSTGREST_PORT=3000
SUPABASE_REALTIME_PORT=4000


# =============================================================================
# PMOVES API Tier Environment Variables
# =============================================================================
# Services: postgrest, presign, retrieval-eval, hi-rag-gateway-v2, gpu-orchestrator
# Scope: Data tier URLs, internal service credentials (NO external API keys)
#
# Copy to `env.tier-api` and fill in real values. The file is gitignored.
# =============================================================================

# PostgreSQL Connection (for PostgREST)
POSTGRES_USER=pmoves
# REQUIRED: Must match env.tier-data POSTGRES_PASSWORD
POSTGRES_PASSWORD=changeme
POSTGRES_DB=pmoves
PGRST_DB_SCHEMA=public,pmoves_core
PGRST_DB_ANON_ROLE=anon
PGRST_SERVER_PORT=3000
# PostgREST Database URI (constructed here because compose-time var expansion doesn't see env_file)
PGRST_DB_URI=postgres://pmoves:changeme@postgres:5432/pmoves
# REQUIRED: Generate with `openssl rand -base64 32`
SUPABASE_JWT_SECRET=

# MinIO Connection (for Presign)
MINIO_ENDPOINT=minio:9000
# REQUIRED: Must match env.tier-data MINIO credentials
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_SECURE=false
AWS_DEFAULT_REGION=us-east-1
ALLOWED_BUCKETS=assets,outputs
# REQUIRED: Generate with `openssl rand -hex 32`
PRESIGN_SHARED_SECRET=

# Hi-RAG Gateway (for retrieval-eval)
HIRAG_URL=http://hi-rag-gateway-v2:8086
EVAL_HTTP_PORT=8090

# Qdrant Connection (for Hi-RAG)
QDRANT_URL=http://qdrant:6333
QDRANT_COLLECTION=pmoves_chunks_qwen3

# Meilisearch Connection (for Hi-RAG)
# REQUIRED: Must match env.tier-data MEILI_MASTER_KEY
MEILI_MASTER_KEY=changeme

# Supabase Service Role Key (for internal API calls)
# Generate from Supabase dashboard
SUPABASE_SERVICE_ROLE_KEY=
